# CI system on golang

1. ci-monitor - компонент отслеживающий изменения в репозиториях и отправляющий топики в rabbitmq. Требуется файл `pipeline.yaml` в отслеживамых репозиториях. Пример файла есть в компоненте `pipeline.example.yaml`.
2. ci-scheduler - компонент достает топики из rabbitmq и отправляет их по grpc в nginx который распределяет нагрузку между ci-executor's. Результат запроса записывается в бд postgres. Пример конфигурации nginx есть в файле `nginx.example.conf`.
3. ci-executor - компонент принимает grpc запросы и выполняет задачи из командной строки.
4. ci-core - репозиторий с библиотеками.
5. ci-api - репозиторий с grpc клиентами.

Также для работы системы требуются PostgreSQL, RabbitMQ, Nginx.
PostgreSQL и RabbitMQ могут быть развернуты в докере.
Nginx желательно развернуть вне докера, иначе могут возникнуть проблемы.